<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Resume Generator & Tailor</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>AI Resume Generator & Tailor</h1>

        <div id="messageArea">
        </div>

        <div class="phase">
            <h2>Settings: Choose LLM & API Keys</h2>
            <div>
                <label for="llmSelection">Choose LLM Provider:</label>
                <select id="llmSelection">
                    <option value="gemini" selected>Google Gemini</option>
                    <option value="openai">OpenAI (ChatGPT)</option>
                    <option value="claude">Anthropic Claude</option>
                </select>
            </div>

            <div id="geminiConfig" class="llm-config-group">
                <label for="geminiApiKey">Google AI Studio API Key:</label>
                <input type="text" id="geminiApiKey" name="geminiApiKey" placeholder="Enter your Gemini API key">
                <label for="geminiModelName">Gemini Model Name:</label>
                <input type="text" id="geminiModelName" name="geminiModelName" value="gemini-2.5-flash">
            </div>

            <div id="openaiConfig" class="llm-config-group" style="display: none;">
                <label for="openaiApiKey">OpenAI API Key:</label>
                <input type="text" id="openaiApiKey" name="openaiApiKey" placeholder="Enter your OpenAI API key">
                <label for="openaiModelName">OpenAI Model Name:</label>
                <input type="text" id="openaiModelName" name="openaiModelName" value="gpt-3.5-turbo">
            </div>

            <div id="claudeConfig" class="llm-config-group" style="display: none;">
                <label for="claudeApiKey">Anthropic API Key:</label>
                <input type="text" id="claudeApiKey" name="claudeApiKey" placeholder="Enter your Anthropic API key">
                <label for="claudeModelName">Claude Model Name:</label>
                <input type="text" id="claudeModelName" name="claudeModelName" value="claude-3-haiku-20240307">
                <p style="font-size: 0.8em; margin-top: 5px;">Note: Claude API requires Anthropic-Version header (e.g.,
                    2023-06-01). This is handled by the script.</p>
            </div>
        </div>

        <div class="phase">
            <h2>Phase 1: Parse Resume to JSON</h2>
            <div>
                <label for="resumeFile">Upload Resume (.pdf or .docx):</label>
                <input type="file" id="resumeFile" name="resumeFile" accept=".pdf,.docx">
            </div>
            <div>
                <label for="parsedResumeJson">Parsed Resume JSON (Editable):</label>
                <textarea id="parsedResumeJson" rows="15" placeholder="Parsed JSON will appear here..."></textarea>
            </div>
        </div>

        <div class="phase">
            <h2>Phase 2: Tailor Resume & Generate Cover Letter</h2>
            <div>
                <label for="jobDescription">Paste Job Description:</label>
                <textarea id="jobDescription" rows="10" placeholder="Paste job description here..."></textarea>
            </div>
            <div class="button-group">
                <button id="generateTailoredResumeAndCoverLetter">Generate Tailored Resume & Cover Letter</button>
                <button id="clearAllButton" type="button">Clear All & Start Over</button>
            </div>
        </div>

        <div class="phase">
            <h2>Final Tailored Resume</h2>
            <div id="finalResumeOutput">
            </div>
            <button id="downloadResumeButton" type="button" style="margin-top: 10px;">Download Resume (PDF)</button>
        </div>

        <div class="phase">
            <h2>Generated Cover Letter</h2>
            <textarea id="generatedCoverLetter" rows="15" placeholder="Generated cover letter will appear here..."
                readonly></textarea>
            <button id="downloadCoverLetterButton" type="button" style="margin-top: 10px;">Download Cover Letter
                (HTML)</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.5.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script type="module" src="script.js"></script>
</body>

</html>